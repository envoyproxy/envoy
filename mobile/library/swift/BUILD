load("@envoy_mobile//bazel:swift_static_framework.bzl", "swift_static_framework")

licenses(["notice"])  # Apache 2

swift_static_framework(
    name = "ios_framework",
    srcs = glob([
        "DirectResponse.swift",
        "Engine.swift",
        "EngineBuilder.swift",
        "EngineImpl.swift",
        "EnvoyError.swift",
        "Headers.swift",
        "HeadersBuilder.swift",
        "LogLevel.swift",
        "PulseClient.swift",
        "PulseClientImpl.swift",
        "RequestHeaders.swift",
        "RequestHeadersBuilder.swift",
        "RequestMethod.swift",
        "RequestTrailers.swift",
        "RequestTrailersBuilder.swift",
        "ResponseHeaders.swift",
        "ResponseHeadersBuilder.swift",
        "ResponseTrailers.swift",
        "ResponseTrailersBuilder.swift",
        "RetryPolicy.swift",
        "RetryPolicyMapper.swift",
        "RouteMatcher.swift",
        "Stream.swift",
        "StreamCallbacks.swift",
        "StreamClient.swift",
        "StreamClientImpl.swift",
        "StreamPrototype.swift",
        "TestEngineBuilder.swift",
        "Trailers.swift",
        "UpstreamHttpProtocol.swift",
        "filters/*.swift",
        "grpc/*.swift",
        "mocks/*.swift",
        "stats/*.swift",
    ]),
    module_name = "Envoy",
    private_deps = ["//library/objective-c:envoy_engine_objc_lib"],
    visibility = ["//visibility:public"],
)
