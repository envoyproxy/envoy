{
  "name": "Envoy Dev",
  "dockerFile": "Dockerfile",
  "runArgs": [
    "--user=root",
    "--privileged",
    "--volume=${env:HOME}:${env:HOME}",
    "--volume=envoy-build:/build",
    "--network=host",
    // Uncomment next line if you have devcontainer.env
    // "--env-file=.devcontainer/devcontainer.env"
  ],
  "containerEnv": {
    "ENVOY_SRCDIR": "${containerWorkspaceFolder}",
  },
  "settings": {
    "terminal.integrated.shell.linux": "/bin/bash",
    "bazel.buildifierFixOnFormat": true,
    "clangd.path": "/opt/llvm/bin/clangd",
    "python.pythonPath": "/usr/bin/python3",
    "python.formatting.provider": "yapf",
    "python.formatting.yapfArgs": [
      "--style=${workspaceFolder}/.style.yapf"
    ],
    "files.exclude": {
      "**/.clangd/**": true,
      "**/bazel-*/**": true
    },
    "files.watcherExclude": {
      "**/.clangd/**": true,
      "**/bazel-*/**": true
    }
  },
  "remoteUser": "root",
  "containerUser": "root",
  "postCreateCommand": ".devcontainer/setup.sh",
  "extensions": [
    "github.vscode-pull-request-github",
    "zxh404.vscode-proto3",
    "bazelbuild.vscode-bazel",
    "llvm-vs-code-extensions.vscode-clangd",
    "vadimcn.vscode-lldb",
    "webfreak.debug",
    "ms-python.python"
  ]
}
